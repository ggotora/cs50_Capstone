{% extends "account/base_entrance.html" %}
{% load i18n %}
{% load static %}
{% load allauth account %}
{% block head_title %}
Home
{% endblock head_title %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock extra_head %}
{% block content %}
<!-- Background image -->
<div class="bg-image ">
  <div class="overImg d-flex justify-content-center align-items-center">
    <div>
       <h1 class="heading text-white h4">Take the hussle out of finding loads</h1>
       <p class="text-white">Truckloader is an online platform for truckers to meet thousands of shippers online</p>
    </div>
  </div>
</div>
<!-- Background image -->


<div class="mt-4 mb-2 container">
    <h1 class="h5 ms-3">Our top 5 listings</h1>
    <div class="table-responsive">
    <table class="table table-hover table-sm">
        <thead class="line bg-green">
        <tr>
            <th scope="col">Origin</th>
            <th scope="col">Destination</th>
            <th scope="col">Weight</th>
            <th scope="col">Type</th>
            <th scope="col">Rate</th>
            <th scope="col">Status</th>
        </tr>
        </thead>
        <tbody>
            
        {% for load in load_list %}
            {% if load.loadstatus.get_status_display != "Delivered" %}  
        <tr class="table-row cursor-auto" data-href="{% url 'loads:load' load.id %}" >
            <td class="text-truncate">{{ load.origin }}</td>
            <td class="text-truncate">{{ load.destination }}</td>
            <td class="text-truncate">{{ load.weight }}</td>
            <td class="text-truncate">{{ load.get_type_display }}</td>
            {% if user.is_authenticated %}
                <td class="text-truncate">{{ load.rate }}</td>
                {% else %}
            <td class="text-truncate"><a href="#hello">Sign Up</a><i class="bi bi-box-arrow-in-right"></i></td>

            {% endif %}
            {% if load.loadstatus.get_status_display == "Available" %}
            <td class="text-truncate text-success">{{ load.loadstatus }} | Book Load</td>
            {% else %}
            <td class="text-truncate text-warning">{{ load.loadstatus }}</td>
            {% endif %}
        </tr>
        {% endif %}

        {% endfor %}
        </tbody>
    </table>
    </div>
</div>
<script src="{% static 'js/loads.js' %}"></script>
{% endblock content %}